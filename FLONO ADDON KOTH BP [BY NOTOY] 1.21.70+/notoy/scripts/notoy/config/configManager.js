(function(_0x37005,_0x1a884c){const _0x230755=_0x32a0,_0x15a395=_0x37005();while(!![]){try{const _0x280f1a=-parseInt(_0x230755(0x17b))/0x1*(parseInt(_0x230755(0x199))/0x2)+parseInt(_0x230755(0x17f))/0x3*(-parseInt(_0x230755(0x175))/0x4)+-parseInt(_0x230755(0x1a1))/0x5+parseInt(_0x230755(0x178))/0x6+-parseInt(_0x230755(0x1a5))/0x7*(-parseInt(_0x230755(0x17a))/0x8)+parseInt(_0x230755(0x194))/0x9*(-parseInt(_0x230755(0x17c))/0xa)+parseInt(_0x230755(0x1a4))/0xb*(parseInt(_0x230755(0x187))/0xc);if(_0x280f1a===_0x1a884c)break;else _0x15a395['push'](_0x15a395['shift']());}catch(_0x2114fd){_0x15a395['push'](_0x15a395['shift']());}}}(_0x2a89,0xb9d3d));import{guardar,cargar}from'../db';import{ActionFormData,MessageFormData,ModalFormData}from'@minecraft/server-ui';function _0x2a89(){const _0x5d4558=['title','trim','7256335ldPLWb','push','global_config','253BNGmuS','10558849isDPdY','\x20-\x20','§cEl\x20nombre\x20y\x20el\x20nombre\x20para\x20mostrar\x20no\x20pueden\x20estar\x20vacíos.','findIndex','Puntos\x20KOTH\x201','§cNo\x20puedes\x20agregar\x20más\x20de\x205\x20objetivos.','2044jSxPam','addObjective','Ejemplo:\x20Puntos\x20KOTH\x202','2956350QcizeV','Ejemplo:\x20koth2','8ksKbXI','27OdWZyn','10whqZxd','displayName','koth1','8706HnUqXb','§f[§6FLONO\x20ESTUDIO§f]§6[§fKOTH\x20ADDON§6]\x20§aObjetivo\x20\x22','canceled','scoreboard','Selecciona\x20un\x20objetivo\x20para\x20editarlo\x20o\x20eliminarlo:','\x22\x20agregado\x20con\x20éxito.','name','sendMessage','1513812pJEqXN','objectives','Nombre\x20para\x20Mostrar','slider','selection','Editar\x20Objetivos','\x22\x20actualizado\x20a\x20\x22','textField','Editar\x20Objetivo:\x20','§aObjetivo\x20\x22','button','formValues','forEach','1403469DjDqiK','Agregar\x20Objetivo','Nombre\x20del\x20Objetivo','Puntos\x20por\x20Segundo','Configuración\x20Global','77876UOxSvd','§cNo\x20hay\x20objetivos\x20configurados.','puntosPorSegundo','show','§f[§6FLONO\x20ESTUDIO§f]§6[§fKOTH\x20ADDON§6]\x20§aPuntos\x20por\x20segundo\x20configurados\x20a\x20','then'];_0x2a89=function(){return _0x5d4558;};return _0x2a89();}export function initializeGlobalConfig(){const _0x333034=_0x32a0,_0x1ee142={'objectives':[{'name':_0x333034(0x17e),'displayName':_0x333034(0x173)}],'puntosPorSegundo':0x1},_0x4cf565=cargar(_0x333034(0x1a3))||_0x1ee142;guardar(_0x333034(0x1a3),_0x4cf565);}export function openGlobalConfigMenu(_0xbfa96a){const _0x51c289=_0x32a0,_0x1f1ed1=cargar(_0x51c289(0x1a3))||{},_0xeb54dd=new ActionFormData()['title'](_0x51c289(0x198))['body']('Gestiona\x20los\x20objetivos\x20de\x20puntuación\x20y\x20otros\x20ajustes\x20globales.(no\x20es\x20necesario\x20puede\x20que\x20este\x20menu\x20sea\x20eliminado\x20en\x20una\x20proxima\x20actualizacion.')[_0x51c289(0x191)]('Agregar\x20Objetivo')[_0x51c289(0x191)](_0x51c289(0x18c))['button'](_0x51c289(0x197))[_0x51c289(0x19c)](_0xbfa96a)[_0x51c289(0x19e)](_0x133175=>{const _0x1677bd=_0x51c289;if(_0x133175['canceled'])return;switch(_0x133175[_0x1677bd(0x18b)]){case 0x0:addObjectiveMenu(_0xbfa96a);break;case 0x1:editObjectivesMenu(_0xbfa96a);break;case 0x2:setPuntosPorSegundo(_0xbfa96a);break;default:break;}});}function _0x32a0(_0x151c1c,_0x3a7db3){const _0x2a8979=_0x2a89();return _0x32a0=function(_0x32a06b,_0x2d357c){_0x32a06b=_0x32a06b-0x170;let _0x755736=_0x2a8979[_0x32a06b];return _0x755736;},_0x32a0(_0x151c1c,_0x3a7db3);}function editObjectivesMenu(_0x3edd62){const _0x4c9a40=_0x32a0,_0x29ba13=cargar('global_config'),_0x4ece25=_0x29ba13[_0x4c9a40(0x188)]||[];if(_0x4ece25['length']===0x0){_0x3edd62['sendMessage'](_0x4c9a40(0x19a));return;}const _0x215a70=new ActionFormData()[_0x4c9a40(0x19f)]('Editar\x20Objetivos')['body'](_0x4c9a40(0x183));_0x4ece25[_0x4c9a40(0x193)](_0x450990=>_0x215a70['button'](_0x450990['name']+_0x4c9a40(0x170)+_0x450990[_0x4c9a40(0x17d)])),_0x215a70['show'](_0x3edd62)['then'](_0x422adb=>{if(_0x422adb['canceled'])return;const _0x27a8e6=_0x4ece25[_0x422adb['selection']];editObjectiveMenu(_0x3edd62,_0x27a8e6);});}function setPuntosPorSegundo(_0x108298){const _0x4135c2=_0x32a0,_0x1eb3b2=cargar(_0x4135c2(0x1a3))||{};new ModalFormData()[_0x4135c2(0x19f)]('Configurar\x20Puntos\x20por\x20Segundo')[_0x4135c2(0x18a)](_0x4135c2(0x197),0x1,0xa,0x1,_0x1eb3b2[_0x4135c2(0x19b)]||0x1)[_0x4135c2(0x19c)](_0x108298)[_0x4135c2(0x19e)](_0x472917=>{const _0x34902a=_0x4135c2;if(_0x472917[_0x34902a(0x181)])return;_0x1eb3b2[_0x34902a(0x19b)]=_0x472917[_0x34902a(0x192)][0x0],guardar(_0x34902a(0x1a3),_0x1eb3b2),_0x108298[_0x34902a(0x186)](_0x34902a(0x19d)+_0x1eb3b2['puntosPorSegundo']+'.');});}function addObjectiveMenu(_0x30a695){const _0x5f4417=_0x32a0,_0x49f649=cargar(_0x5f4417(0x1a3))||{'objectives':[]};if(_0x49f649['objectives']['length']>=0x5){_0x30a695[_0x5f4417(0x186)](_0x5f4417(0x174));return;}new ModalFormData()[_0x5f4417(0x19f)](_0x5f4417(0x195))['textField'](_0x5f4417(0x196),_0x5f4417(0x179),'')[_0x5f4417(0x18e)](_0x5f4417(0x189),'Ejemplo:\x20Puntos\x20KOTH\x202','')[_0x5f4417(0x19c)](_0x30a695)[_0x5f4417(0x19e)](_0x3dfd44=>{const _0x2bd57f=_0x5f4417;if(_0x3dfd44[_0x2bd57f(0x181)])return;const _0x479206=_0x3dfd44[_0x2bd57f(0x192)][0x0][_0x2bd57f(0x1a0)](),_0xa067d1=_0x3dfd44['formValues'][0x1][_0x2bd57f(0x1a0)]();if(!_0x479206||!_0xa067d1){_0x30a695['sendMessage'](_0x2bd57f(0x171));return;}const _0x3a62dc=cargar(_0x2bd57f(0x1a3))||{'objectives':[]};_0x3a62dc['objectives'][_0x2bd57f(0x1a2)]({'name':_0x479206,'displayName':_0xa067d1}),guardar(_0x2bd57f(0x1a3),_0x3a62dc),!world[_0x2bd57f(0x182)]['getObjective'](_0x479206)&&world[_0x2bd57f(0x182)][_0x2bd57f(0x176)](_0x479206,_0xa067d1),_0x30a695[_0x2bd57f(0x186)](_0x2bd57f(0x180)+_0x479206+_0x2bd57f(0x184));});}function editObjectiveMenu(_0x59d9ad,_0x7abe9e){const _0x49cd0f=_0x32a0;new ModalFormData()['title'](_0x49cd0f(0x18f)+_0x7abe9e[_0x49cd0f(0x185)])[_0x49cd0f(0x18e)]('Nombre\x20del\x20Objetivo',_0x49cd0f(0x179),_0x7abe9e['name'])['textField'](_0x49cd0f(0x189),_0x49cd0f(0x177),_0x7abe9e['displayName'])[_0x49cd0f(0x19c)](_0x59d9ad)[_0x49cd0f(0x19e)](_0x22cb8d=>{const _0xf4aa63=_0x49cd0f;if(_0x22cb8d[_0xf4aa63(0x181)])return;const _0x44a07c=_0x22cb8d[_0xf4aa63(0x192)][0x0]['trim'](),_0x597d9b=_0x22cb8d[_0xf4aa63(0x192)][0x1]['trim']();if(!_0x44a07c||!_0x597d9b){_0x59d9ad[_0xf4aa63(0x186)](_0xf4aa63(0x171));return;}const _0x1373f3=cargar(_0xf4aa63(0x1a3)),_0x35ff8d=_0x1373f3[_0xf4aa63(0x188)],_0x882c48=_0x35ff8d[_0xf4aa63(0x172)](_0x5d9e68=>_0x5d9e68[_0xf4aa63(0x185)]===_0x7abe9e[_0xf4aa63(0x185)]);_0x882c48!==-0x1&&(_0x35ff8d[_0x882c48]={'name':_0x44a07c,'displayName':_0x597d9b},guardar(_0xf4aa63(0x1a3),_0x1373f3),_0x59d9ad[_0xf4aa63(0x186)](_0xf4aa63(0x190)+_0x7abe9e[_0xf4aa63(0x185)]+_0xf4aa63(0x18d)+_0x44a07c+'\x22.'));});}